---
import Image from "astro/components/Image.astro";

const {
  image = "/images/results/student.png",
  studentName = "",
  competitionName = "",
  grade = "",
  score = "",
  date = "",
  positionText = "",
  bgImg = "/images/results/school-background.png",
  classes = "",
} = Astro.props;
---

<div
  class={`group border-n-200 relative flex w-full flex-col items-center overflow-hidden rounded-2xl border-2 ${classes}`}
>
  <!-- Image -->
  <div
    class={`relative w-full  bg-cover bg-center px-5 pt-5 h-[221px] md:h-[272px]`}
    style={`background-image: url(${bgImg});`}
  >
    {
      image && (
        <Image
          src={image}
          alt={studentName}
          class="h-full w-full object-contain"
          loading="lazy"
          decoding="async"
          width={480}
          height={272}
        />
      )
    }
    <!-- Overlay animation -->
    <span
      class="pointer-events-none absolute inset-0 before:absolute before:inset-0 before:-translate-x-[150%] before:bg-[linear-gradient(128deg,rgba(255,255,255,0)_-3.31%,rgba(255,255,255,0.56)_31.94%,rgba(255,255,255,0.78)_49.57%,rgba(255,255,255,0.26)_63.89%,rgba(255,255,255,0)_111.26%)] before:opacity-0 before:transition-all before:duration-[500ms] before:ease-in group-hover:before:translate-x-[150%] group-hover:before:opacity-100"
    ></span>

    <!-- Badge (If position there) -->
    {
      positionText && (
        <div class="bg-n-50 absolute top-4 left-4 flex items-center rounded-sm border-l-8 border-orange-500 py-2 pr-3 pl-5">
          <p class="text-n-600 text-xs font-semibold md:text-lg">
            {positionText}
          </p>
        </div>
      )
    }
  </div>

  <!-- Content -->
  <div
    class="flex w-full flex-col gap-2 px-4 pt-3.5 pb-5 md:px-5 md:pt-4 md:pb-6"
  >
    <!-- Name and Class -->
    {
      competitionName && (
        <div class="flex items-center gap-2">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="30"
            height="30"
            viewBox="0 0 30 30"
            fill="none"
            class="size-4 md:size-5"
          >
            <path
              d="M14.9997 4.39429C17.2846 4.39429 19.392 4.44405 21.4555 4.53973C24.9332 4.7011 27.7634 7.34625 28.1551 10.7109C28.6233 14.7322 28.6233 18.1699 28.1551 22.1911C27.7633 25.5558 24.9332 28.2009 21.4555 28.3623C19.392 28.458 17.2846 28.5077 14.9997 28.5077C12.7147 28.5077 10.6066 28.458 8.54292 28.3623C5.06528 28.2008 2.2352 25.5558 1.84336 22.1911C1.37513 18.1699 1.37513 14.7322 1.84336 10.7109C2.23518 7.34629 5.06525 4.70114 8.54292 4.53973C10.6066 4.44404 12.7147 4.39429 14.9997 4.39429ZM14.9997 6.53714C12.7467 6.53714 10.6718 6.58639 8.64232 6.68049C6.19832 6.79391 4.24019 8.65179 3.97156 10.9589C3.52252 14.8155 3.52252 18.0866 3.97156 21.9431C4.24019 24.2503 6.19831 26.1081 8.64232 26.2215C10.6718 26.3156 12.7467 26.3648 14.9997 26.3648C17.2526 26.3648 19.3267 26.3156 21.3561 26.2215C23.8002 26.1081 25.7583 24.2503 26.0269 21.9431C26.4759 18.0866 26.4759 14.8155 26.0269 10.9589C25.7583 8.65181 23.8002 6.79388 21.3561 6.68049C19.3268 6.5864 17.2526 6.53715 14.9997 6.53714Z"
              fill="#CC554D"
            />
            <path
              d="M8.45898 8.0361V2.56386C8.45898 1.97213 8.93868 1.49243 9.53041 1.49243C10.1221 1.49243 10.6018 1.97213 10.6018 2.56386V8.0361C10.6017 8.62769 10.122 9.10753 9.53041 9.10753C8.93878 9.10753 8.45915 8.62769 8.45898 8.0361Z"
              fill="#CC554D"
            />
            <path
              d="M19.3965 8.0361V2.56386C19.3965 1.97213 19.8762 1.49243 20.4679 1.49243C21.0596 1.49243 21.5393 1.97213 21.5393 2.56386V8.0361C21.5392 8.62769 21.0595 9.10753 20.4679 9.10753C19.8763 9.10753 19.3966 8.62769 19.3965 8.0361Z"
              fill="#CC554D"
            />
            <path
              d="M13.2642 16.5597C13.2641 16.0439 13.2192 15.5261 13.1616 14.9881C13.1475 14.8651 13.0921 14.7504 13.0047 14.6627C12.9171 14.575 12.8024 14.52 12.6793 14.5058V14.5047C12.1353 14.4448 11.6175 14.398 11.1014 14.398C10.5841 14.398 10.0645 14.4439 9.52253 14.5047L9.52358 14.5058C9.40049 14.5201 9.28566 14.576 9.19817 14.6637C9.11202 14.7503 9.05716 14.8629 9.04227 14.9839L8.96903 15.7791C8.95062 16.0411 8.93974 16.3006 8.93973 16.5597C8.93973 17.0757 8.9837 17.593 9.04122 18.1302C9.05513 18.2534 9.11057 18.3688 9.19817 18.4566C9.28465 18.5433 9.39788 18.5985 9.51939 18.6136H9.52044C10.0638 18.6745 10.5835 18.7224 11.1014 18.7224C11.6194 18.7224 12.1397 18.6745 12.6824 18.6136C12.8044 18.5988 12.9178 18.5436 13.0047 18.4566C13.0923 18.3688 13.1477 18.2535 13.1616 18.1302C13.2191 17.593 13.2642 17.0752 13.2642 16.5597ZM15.407 16.5597C15.407 17.1936 15.352 17.8042 15.2919 18.3646L15.2909 18.3708C15.2226 18.9754 14.9514 19.5389 14.5218 19.9696C14.0921 20.4004 13.5295 20.673 12.9252 20.7429H12.922C12.3587 20.8061 11.7423 20.8653 11.1014 20.8653C10.4607 20.8653 9.84541 20.806 9.28188 20.7429H9.27874C8.67439 20.673 8.11072 20.4004 7.68101 19.9696C7.25151 19.5389 6.98019 18.9754 6.91197 18.3708V18.3646C6.85187 17.8042 6.79688 17.1942 6.79688 16.5597C6.79689 15.9252 6.85185 15.3148 6.91197 14.7548V14.7495C6.9802 14.1449 7.25139 13.5805 7.68101 13.1497C8.11071 12.719 8.67438 12.4473 9.27874 12.3775L9.28188 12.3765C9.84501 12.3133 10.4608 12.2551 11.1014 12.2551C11.4221 12.2551 11.7367 12.2703 12.041 12.2928L12.9199 12.3755L12.9252 12.3765C13.5295 12.4463 14.0922 12.719 14.5218 13.1497C14.9514 13.5805 15.2226 14.1439 15.2909 14.7485L15.2919 14.7548C15.352 15.3156 15.407 15.9258 15.407 16.5597Z"
              fill="#CC554D"
            />
          </svg>
          <p class="text-n-600 font-secondary text-xs leading-none md:text-base">
            {competitionName}
          </p>
        </div>
      )
    }

    <!-- Student Details -->
    <div class="flex flex-col gap-1">
      <p class="text-n-600 text-xl font-medium md:text-2xl">
        {studentName}
      </p>

      <!-- Student's Grade (If exists) -->
      {
        grade && (
          <p class="font-secondary text-n-500 text-sm leading-[158%] md:text-base">
            {grade}
          </p>
        )
      }
    </div>

    <!-- Student Results and Date -->
    <div class="flex items-center justify-between">
      <!-- Score -->
      {
        score && (
          <div class="flex items-center gap-3">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="40"
              height="40"
              viewBox="0 0 40 40"
              fill="none"
              class="size-6 md:size-8"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M18.6605 1.36073C13.6032 1.72937 10.0132 3.89281 8.10446 7.72217C7.30482 9.32641 6.84414 11.0913 6.68094 13.1759C6.62214 13.9269 6.63182 15.6366 6.69918 16.4001C6.86414 18.2693 7.2663 19.8888 7.9131 21.2889L8.07042 21.6294L7.8055 21.7843C6.7267 22.415 5.83302 23.1206 4.79986 24.1572C3.0615 25.9014 1.96822 27.7394 1.4357 29.8127C1.28682 30.3922 1.29374 30.6638 1.46658 31.0292C1.60374 31.3192 1.85594 31.5662 2.35194 31.8962C3.23162 32.4815 4.00546 32.7013 5.1505 32.6912C5.74726 32.686 5.76082 32.6878 5.77742 32.773C6.15326 34.7058 6.86082 36.0816 8.08554 37.2613C8.71114 37.8639 9.63642 38.4986 10.0755 38.6262C10.7013 38.8081 11.4251 38.4729 11.7189 37.865C11.8065 37.6837 11.8583 37.4794 11.9181 37.0783C12.4036 33.8246 13.7148 31.0406 15.8852 28.6552C16.1278 28.3886 16.4226 28.0873 16.5402 27.9857L16.7541 27.8011L17.1473 27.8609C17.9877 27.9886 18.867 28.0474 19.9605 28.049C21.1102 28.0506 21.7645 28.0093 22.6975 27.8759L23.2545 27.7963L23.5111 28.0482C25.1419 29.6492 26.3043 31.3921 27.1145 33.4512C27.5886 34.656 27.864 35.6904 28.0805 37.0801C28.1233 37.3551 28.1873 37.6646 28.2225 37.7679C28.3396 38.1112 28.7383 38.4798 29.1377 38.6139C29.5596 38.7556 29.9332 38.6819 30.4903 38.3469C32.3591 37.2231 33.638 35.448 34.0975 33.3401C34.1551 33.0761 34.2118 32.817 34.2235 32.7644C34.2449 32.6688 34.2456 32.6687 34.6566 32.6952C35.8457 32.7721 36.9613 32.4283 37.9571 31.6779C38.3224 31.4026 38.5305 31.1194 38.62 30.7758C38.7038 30.454 38.6975 30.3514 38.5616 29.8241C38.0229 27.7351 36.9117 25.8706 35.1613 24.1188C34.1811 23.1378 33.3707 22.5058 32.0557 21.6969L31.9309 21.6201L32.1405 21.1401C32.7185 19.8164 33.0741 18.4203 33.2682 16.7138C33.3677 15.8393 33.3667 13.5106 33.2665 12.6601C33.1071 11.308 32.9076 10.384 32.5377 9.28481C31.6331 6.59749 30.003 4.56021 27.6324 3.15429C26.0723 2.22909 24.2463 1.67001 21.9605 1.41773C21.3121 1.34617 19.3301 1.31193 18.6605 1.36073ZM18.7805 4.22537C16.3677 4.41317 14.4525 5.05593 12.988 6.16933C12.3135 6.68213 11.6202 7.42505 11.1489 8.14013C10.853 8.58901 10.3745 9.56753 10.1844 10.1123C9.43618 12.2572 9.27806 15.311 9.7863 17.8C10.7037 22.2922 13.806 24.8154 18.8337 25.1583C21.6646 25.3514 24.315 24.8508 26.1509 23.7763C27.5993 22.9286 28.6423 21.797 29.3805 20.2722C29.9036 19.1917 30.1815 18.2052 30.3867 16.7001C30.4698 16.0909 30.5046 13.961 30.4427 13.2707C30.2691 11.3329 29.8102 9.75845 29.0438 8.47185C27.6224 6.08569 25.2789 4.70473 21.9605 4.29785C21.4453 4.23465 19.2917 4.18557 18.7805 4.22537ZM19.5877 6.40237C18.6431 6.51213 17.7676 7.07797 17.2299 7.92609C17.0239 8.25113 16.5813 9.22049 16.4427 9.65013L16.3943 9.80013L16.1674 9.80017C15.8252 9.80025 14.9039 9.91377 14.5255 10.0025C13.8657 10.1572 13.3028 10.4896 12.8116 11.0146C12.4962 11.3518 12.2779 11.7229 12.1144 12.2001C11.9905 12.5616 11.9841 12.6094 11.9826 13.1801C11.981 13.818 12.0117 13.9825 12.229 14.5001C12.4473 15.0199 13.0613 15.7202 13.8405 16.338C14.0055 16.4688 14.1551 16.5877 14.1729 16.6023C14.1906 16.6168 14.1692 16.7708 14.1253 16.9444C13.7009 18.6215 13.7862 19.5966 14.4417 20.5619C15.0697 21.4866 16.1888 22.0484 17.2805 21.9869C17.7822 21.9586 18.2123 21.8418 18.6864 21.605C19.0063 21.4451 19.6398 21.0704 19.9253 20.8721C19.9779 20.8356 20.0684 20.876 20.4053 21.0865C21.2975 21.6438 21.743 21.8453 22.3005 21.9436C22.7314 22.0196 23.0685 22.0139 23.5069 21.9234C24.6805 21.6813 25.6434 20.8094 25.9943 19.6712C26.2077 18.9794 26.1943 18.3704 25.941 17.2413C25.8646 16.901 25.8153 16.612 25.8313 16.5992C25.8474 16.5863 25.9955 16.4688 26.1604 16.338C26.6031 15.9868 27.2248 15.3752 27.4285 15.0904C27.6489 14.7823 27.8043 14.466 27.9258 14.0776C28.0066 13.8196 28.0187 13.7004 28.0167 13.1801C28.0146 12.6148 28.0071 12.5586 27.8879 12.2078C27.7233 11.7235 27.497 11.3414 27.1681 10.9928C26.6899 10.4858 26.1222 10.154 25.4726 10.0018C25.0967 9.91365 24.1747 9.80025 23.8337 9.80017L23.6067 9.80013L23.5584 9.65013C23.4976 9.46177 23.2527 8.87481 23.0689 8.47701C22.5139 7.27601 21.579 6.55025 20.3955 6.40189C20.03 6.35605 19.9859 6.35605 19.5877 6.40237ZM19.7843 9.32437C19.5803 9.48477 19.2264 10.3047 18.9401 11.2801C18.7691 11.8626 18.6695 12.0526 18.4198 12.2724C18.0558 12.5928 17.9805 12.6112 16.9005 12.6444C15.8864 12.6755 15.1701 12.7584 15.0102 12.8632C14.9572 12.898 14.8885 12.9871 14.8575 13.0613C14.7901 13.2225 14.8295 13.3602 14.9931 13.5349C15.2219 13.7794 15.8536 14.2826 16.3682 14.6303C17.0988 15.124 17.2782 15.377 17.3109 15.9601C17.3259 16.2268 17.3097 16.3164 17.166 16.7663C16.9011 17.5951 16.7206 18.3764 16.7205 18.6941C16.7205 18.8968 16.9287 19.1201 17.1177 19.1201C17.3547 19.1201 18.0703 18.7 18.8205 18.1203C19.4298 17.6496 19.4993 17.6201 20.0005 17.6201C20.4975 17.6201 20.5859 17.6564 21.1205 18.08C21.7995 18.6179 22.5637 19.0786 22.8295 19.1102C22.9819 19.1283 23.0122 19.1165 23.1395 18.9892C23.2521 18.8766 23.2805 18.817 23.2805 18.6941C23.2805 18.3796 23.1017 17.6025 22.8387 16.7744C22.6527 16.1884 22.6339 15.8879 22.7618 15.5458C22.8992 15.1787 23.038 15.0322 23.6239 14.6364C24.1462 14.2835 24.7779 13.7808 25.008 13.5349C25.1716 13.3602 25.211 13.2225 25.1436 13.0613C25.1126 12.9871 25.0452 12.8992 24.9939 12.8661C24.8041 12.7437 23.8452 12.6405 22.8951 12.6402C22.1987 12.6401 22.0005 12.5946 21.6969 12.3652C21.4036 12.1435 21.255 11.9204 21.139 11.5278C20.7891 10.3431 20.4015 9.42521 20.2014 9.30697C20.0493 9.21713 19.9133 9.22281 19.7843 9.32437ZM9.20886 24.2901C7.09562 25.5844 5.44474 27.4151 4.58282 29.4199C4.45758 29.7112 4.45134 29.7432 4.51294 29.7799C4.62874 29.8488 5.5425 29.8169 6.14054 29.723C6.9431 29.597 7.16106 29.5828 7.4059 29.6404C7.82754 29.7397 8.19674 30.0454 8.38002 30.447C8.47042 30.6451 8.48838 30.7571 8.5211 31.327C8.57682 32.2972 8.71878 32.9844 9.00014 33.6456C9.12094 33.9294 9.41718 34.461 9.47422 34.4962C9.4921 34.5073 9.54874 34.3687 9.60014 34.1882C10.3511 31.5502 11.6096 29.2238 13.4595 27.0535L13.6016 26.8868L13.1111 26.6473C12.0102 26.1096 11.1328 25.488 10.2369 24.6113C9.9159 24.2972 9.6451 24.0401 9.63514 24.0401C9.62518 24.0401 9.43334 24.1526 9.20886 24.2901ZM29.8999 24.4831C28.9761 25.4145 28.0624 26.0707 26.8891 26.6454L26.3976 26.8861L26.5091 27.0195C27.0233 27.6349 27.4701 28.2119 27.7896 28.6733C28.9279 30.317 29.8042 32.1558 30.3632 34.0734L30.4953 34.5266L30.5694 34.4334C30.6101 34.3821 30.7502 34.1241 30.8807 33.8601C31.2595 33.0936 31.4133 32.4355 31.4761 31.3133C31.5068 30.7645 31.5241 30.6594 31.6178 30.4541C31.7929 30.0706 32.1217 29.7766 32.5063 29.6599C32.7645 29.5816 33.0055 29.5861 33.5751 29.68C34.3043 29.8003 35.0256 29.8571 35.2805 29.8143C35.4897 29.7792 35.5001 29.7718 35.4923 29.664C35.479 29.4792 34.9141 28.3767 34.575 27.8735C33.7612 26.6659 32.5761 25.4826 31.3405 24.6442C30.961 24.3866 30.3971 24.0401 30.3575 24.0401C30.3474 24.0401 30.1415 24.2394 29.8999 24.4831Z"
                fill="#CC554D"
              />
            </svg>
            <p class="font-secondary text-n-600 text-lg leading-[26px] font-semibold md:text-2xl md:leading-9">
              {score}
            </p>
          </div>
        )
      }

      <!-- Date -->
      {
        date && (
          <div class="flex items-center gap-3">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              class="size-4 md:h-5 md:w-5"
            >
              <path
                d="M9.99978 2.78418C11.5231 2.78418 12.9279 2.81742 14.3036 2.88184C16.6277 2.99065 18.5105 4.77447 18.7707 7.03153C19.0827 9.73786 19.0827 12.0512 18.7707 14.7575C18.5106 17.0147 16.6277 18.7984 14.3036 18.9072C12.9279 18.9717 11.5231 19.0049 9.99978 19.0049C8.47633 19.0049 7.07117 18.9717 5.69523 18.9072C3.3713 18.7984 1.48839 17.0146 1.22816 14.7575C0.916138 12.0512 0.916132 9.73785 1.22816 7.03153C1.4884 4.77447 3.37128 2.99065 5.69523 2.88184C7.07116 2.81741 8.47631 2.78418 9.99978 2.78418ZM9.99978 4.21275C8.49788 4.21275 7.11507 4.24567 5.7622 4.30901C4.13808 4.38506 2.82772 5.63372 2.64766 7.19545C2.34821 9.79286 2.34821 11.9962 2.64766 14.5936C2.82772 16.1553 4.13806 17.404 5.7622 17.4801C7.11504 17.5434 8.49785 17.5763 9.99978 17.5763C11.5017 17.5763 12.8846 17.5434 14.2374 17.4801C15.8614 17.4038 17.1711 16.1557 17.3512 14.5943V14.5936C17.6507 11.9962 17.6507 9.79288 17.3512 7.19545C17.1712 5.63385 15.8615 4.3852 14.2374 4.30901C12.8846 4.24567 11.5017 4.21275 9.99978 4.21275Z"
                fill="#CC554D"
              />
              <path
                d="M9.99962 2.78418C11.5231 2.78418 12.9283 2.81741 14.3042 2.88184C16.6281 2.99065 18.5102 4.77453 18.7705 7.03153C18.8062 7.34024 18.8379 7.64424 18.8654 7.94461C18.8837 8.1445 18.8173 8.34322 18.682 8.49149C18.5467 8.63969 18.3553 8.72438 18.1546 8.72447H1.84532C1.64461 8.72447 1.45331 8.63971 1.31798 8.49149C1.18264 8.34318 1.1155 8.14455 1.13383 7.94461C1.16135 7.64434 1.19309 7.34035 1.22869 7.03153C1.48894 4.77449 3.37185 2.99065 5.69577 2.88184C7.07154 2.81742 8.47633 2.78418 9.99962 2.78418ZM9.99962 4.21275C8.49773 4.21275 7.1149 4.24567 5.76204 4.30901C4.13804 4.38517 2.82825 5.6338 2.6482 7.19545C2.64433 7.22897 2.6415 7.26252 2.63773 7.2959H17.3622C17.3584 7.26252 17.3556 7.22897 17.3517 7.19545C17.1716 5.6337 15.8613 4.38506 14.2372 4.30901C12.8843 4.24567 11.5015 4.21275 9.99962 4.21275Z"
                fill="#CC554D"
              />
              <path
                d="M5.64062 5.35732V1.70916C5.64062 1.31467 5.96042 0.994873 6.35491 0.994873C6.7494 0.994873 7.0692 1.31467 7.0692 1.70916V5.35732C7.06909 5.75171 6.74933 6.0716 6.35491 6.0716C5.96049 6.0716 5.64073 5.75171 5.64062 5.35732Z"
                fill="#CC554D"
              />
              <path
                d="M12.9316 5.35732V1.70916C12.9316 1.31467 13.2514 0.994873 13.6459 0.994873C14.0404 0.994873 14.3602 1.31467 14.3602 1.70916V5.35732C14.3601 5.75171 14.0403 6.0716 13.6459 6.0716C13.2515 6.0716 12.9317 5.75171 12.9316 5.35732Z"
                fill="#CC554D"
              />
            </svg>
            <p class="text-n-600 font-secondary text-xs md:text-base">{date}</p>
          </div>
        )
      }
    </div>
  </div>
</div>
