---
export const prerender = true;
// COMPONENTS //
import Breadcrumbs from "@/components/Breadcrumbs.astro";
import ArticleConsumption from "@/components/ArticleConsumption.astro";

// CONSTANTS //
import { URLS } from "@/infrastructure/constants/urls";

// OTHERS //
import Layout from "@/layouts/Layout.astro";

// SECTIONS //

// DATA //
import {
  globalProgramsContent,
  sectionHeaderContent,
} from "@/data/global-connect/global-programs";

/**
 * Generate static paths
 * @returns Array of static paths with Global Programs
 */
export async function getStaticPaths() {
  const paths: Array<{
    params: { globalProgramId: string };
    props: {
      globalProgramItem: any;
    };
  }> = [];

  // Generate paths
  globalProgramsContent.forEach((globalProgramItem: any) => {
    paths.push({
      params: {
        globalProgramId: globalProgramItem.id,
      },
      props: {
        globalProgramItem,
      },
    });
  });

  return paths;
}

const { globalProgramItem } = Astro.props;

// Prepare breadcrumb items
const breadcrumbItems = [
  { label: "Global Programs", href: URLS.GLOBAL_CONNECT.PROGRAMS.ROOT },
  { label: globalProgramItem.breadcrumbTitle, href: `#` },
];

// Prepare section header details
const sectionHeaderDetails = {
  title: sectionHeaderContent.title,
  subtitle: sectionHeaderContent.subtitle,
};
---

<Layout>
  <!-- Breadcrumbs Section -->
  <div class="bg-n-50 relative w-full overflow-hidden">
    <div
      class="container mx-auto px-6 pt-30 pb-5 md:pt-40 md:pb-8 lg:pb-9 2xl:px-0"
    >
      <Breadcrumbs items={breadcrumbItems} />
    </div>
  </div>
  <ArticleConsumption
    sectionHeaderDetails={sectionHeaderDetails}
    articleDetail={globalProgramItem}
  />
</Layout>
