import { c as createComponent, a as createAstro, b as renderTemplate, r as renderComponent, d as addAttribute, m as maybeRenderHead } from './astro/server_wWZRp_y9.mjs';
import { $ as $$Icon } from './Icon_C1El5n1S.mjs';

var __freeze = Object.freeze;
var __defProp = Object.defineProperty;
var __template = (cooked, raw) => __freeze(__defProp(cooked, "raw", { value: __freeze(raw || cooked.slice()) }));
var _a;
const $$Astro = createAstro();
const $$FilterBar = createComponent(($$result, $$props, $$slots) => {
  const Astro2 = $$result.createAstro($$Astro, $$props, $$slots);
  Astro2.self = $$FilterBar;
  const {
    showSearch = true,
    showSort = true,
    years = [2025, 2024, 2023, 2022, 2021],
    sortOptions = []
  } = Astro2.props;
  const visibleYears = years.slice(0, 2);
  const dropdownYears = years.slice(2);
  return renderTemplate(_a || (_a = __template(["", '<section class="bg-n-50 flex flex-col gap-3 rounded-2xl md:gap-7 lg:gap-8"> <!-- Year Filter --> <div class="flex flex-col gap-2 md:gap-3"> <p class="font-secondary text-n-600 text-base md:text-lg lg:text-3xl">\nSelect a Year\n</p> <!-- Year Button wrapper --> <div class="flex flex-wrap items-center gap-px sm:gap-2 md:gap-4 xl:gap-5"> ', " ", ' </div> </div> <!-- Divider --> <div class="border-n-300 border-t"></div> <!-- Search & Sort Bar --> <div class="flex flex-wrap items-center justify-between gap-4 md:gap-8"> ', " <!-- Sort Dropdown --> ", ' </div> </section> <script>\n  document.addEventListener("DOMContentLoaded", () => {\n    const params = new URLSearchParams(window.location.search);\n    const currentYear = params.get("year") || "";\n    const currentSort = params.get("sort") || "recommended";\n    const currentSearch = params.get("search");\n\n    const yearButtons = document.querySelectorAll("[data-year]");\n    const searchInput = document.getElementById("search-input");\n    const dropdown = document.getElementById("year-dropdown");\n    const yearSelected = document.getElementById("year-selected");\n\n    // Sort Dropdown Elements\n    const sortDropdown = document.getElementById("sort-dropdown");\n    const sortTrigger = document.getElementById("sort-trigger");\n    const sortList = document.getElementById("sort-options");\n    const sortSelected = document.getElementById("sort-selected");\n    const sortArrow = document.getElementById("sort-arrow");\n\n    // Default-select first year button when no year in URL\n    if (!currentYear && yearButtons.length) {\n      const firstBtn = yearButtons[0];\n      firstBtn.classList.add(\n        "bg-orange-500",\n        "text-white",\n        "hover:bg-orange-500",\n      );\n      firstBtn.classList.remove("bg-n-50", "text-n-500");\n    }\n\n    // Highlight Selected Year\n    yearButtons.forEach((btn) => {\n      if (btn.dataset.year === currentYear) {\n        btn.classList.add("bg-orange-500", "text-white", "hover:bg-orange-500");\n        btn.classList.remove("bg-n-50", "text-n-500");\n\n        // If year is from dropdown, update summary label\n        if (dropdown?.contains(btn)) {\n          yearSelected.textContent = btn.dataset.year;\n        }\n      }\n\n      btn.addEventListener("click", (e) => {\n        e.preventDefault();\n        params.set("year", btn.dataset.year);\n        params.set("page", "1");\n        window.location.href = `${window.location.pathname}?${params}`;\n      });\n    });\n\n    // Handle Search Input\n    if (searchInput && currentSearch) searchInput.value = currentSearch;\n    if (searchInput)\n      searchInput.addEventListener("change", () => {\n        params.set("search", searchInput.value);\n        params.set("page", "1");\n        window.location.href = `${window.location.pathname}?${params}`;\n      });\n\n    // Set initial dropdown label if no year selected\n    if (yearSelected && !currentYear) {\n      yearSelected.textContent = "Previous Years";\n    }\n\n    // Custom Sort Dropdown\n    if (sortDropdown) {\n      // Set current sort text\n      const activeSortItem = sortDropdown.querySelector(\n        `[data-value="${currentSort}"]`,\n      );\n      if (activeSortItem) {\n        sortSelected.textContent = activeSortItem.textContent;\n        activeSortItem.classList.add(\n          "bg-orange-500",\n          "text-white",\n          "rounded-md",\n        );\n      } else {\n        sortSelected.textContent = "Recommended";\n      }\n\n      // Toggle dropdown open/close\n      sortTrigger.addEventListener("click", (e) => {\n        e.stopPropagation();\n        sortList.classList.toggle("hidden");\n        sortArrow.classList.toggle("rotate-180");\n      });\n\n      // Select sort option\n      sortList.querySelectorAll("li").forEach((item) => {\n        item.addEventListener("click", (e) => {\n          e.stopPropagation();\n\n          // Remove highlight from all\n          sortList\n            .querySelectorAll("li")\n            .forEach((li) =>\n              li.classList.remove("bg-orange-500", "text-white", "rounded-md"),\n            );\n\n          // Highlight the selected one\n          item.classList.add("bg-orange-500", "text-white", "rounded-md");\n\n          const selectedValue = item.dataset.value;\n          sortSelected.textContent = item.textContent;\n          sortList.classList.add("hidden");\n          sortArrow.classList.remove("rotate-180");\n\n          // Update URL\n          params.set("sort", selectedValue);\n          window.location.href = `${window.location.pathname}?${params}`;\n        });\n      });\n    }\n\n    // Close dropdowns when clicking outside\n    document.addEventListener("click", (e) => {\n      document.querySelectorAll("details").forEach((el) => {\n        if (!el.contains(e.target)) el.removeAttribute("open");\n      });\n      if (sortList && !sortDropdown.contains(e.target)) {\n        sortList.classList.add("hidden");\n        sortArrow.classList.remove("rotate-180");\n      }\n    });\n  });\n<\/script>'], ["", '<section class="bg-n-50 flex flex-col gap-3 rounded-2xl md:gap-7 lg:gap-8"> <!-- Year Filter --> <div class="flex flex-col gap-2 md:gap-3"> <p class="font-secondary text-n-600 text-base md:text-lg lg:text-3xl">\nSelect a Year\n</p> <!-- Year Button wrapper --> <div class="flex flex-wrap items-center gap-px sm:gap-2 md:gap-4 xl:gap-5"> ', " ", ' </div> </div> <!-- Divider --> <div class="border-n-300 border-t"></div> <!-- Search & Sort Bar --> <div class="flex flex-wrap items-center justify-between gap-4 md:gap-8"> ', " <!-- Sort Dropdown --> ", ' </div> </section> <script>\n  document.addEventListener("DOMContentLoaded", () => {\n    const params = new URLSearchParams(window.location.search);\n    const currentYear = params.get("year") || "";\n    const currentSort = params.get("sort") || "recommended";\n    const currentSearch = params.get("search");\n\n    const yearButtons = document.querySelectorAll("[data-year]");\n    const searchInput = document.getElementById("search-input");\n    const dropdown = document.getElementById("year-dropdown");\n    const yearSelected = document.getElementById("year-selected");\n\n    // Sort Dropdown Elements\n    const sortDropdown = document.getElementById("sort-dropdown");\n    const sortTrigger = document.getElementById("sort-trigger");\n    const sortList = document.getElementById("sort-options");\n    const sortSelected = document.getElementById("sort-selected");\n    const sortArrow = document.getElementById("sort-arrow");\n\n    // Default-select first year button when no year in URL\n    if (!currentYear && yearButtons.length) {\n      const firstBtn = yearButtons[0];\n      firstBtn.classList.add(\n        "bg-orange-500",\n        "text-white",\n        "hover:bg-orange-500",\n      );\n      firstBtn.classList.remove("bg-n-50", "text-n-500");\n    }\n\n    // Highlight Selected Year\n    yearButtons.forEach((btn) => {\n      if (btn.dataset.year === currentYear) {\n        btn.classList.add("bg-orange-500", "text-white", "hover:bg-orange-500");\n        btn.classList.remove("bg-n-50", "text-n-500");\n\n        // If year is from dropdown, update summary label\n        if (dropdown?.contains(btn)) {\n          yearSelected.textContent = btn.dataset.year;\n        }\n      }\n\n      btn.addEventListener("click", (e) => {\n        e.preventDefault();\n        params.set("year", btn.dataset.year);\n        params.set("page", "1");\n        window.location.href = \\`\\${window.location.pathname}?\\${params}\\`;\n      });\n    });\n\n    // Handle Search Input\n    if (searchInput && currentSearch) searchInput.value = currentSearch;\n    if (searchInput)\n      searchInput.addEventListener("change", () => {\n        params.set("search", searchInput.value);\n        params.set("page", "1");\n        window.location.href = \\`\\${window.location.pathname}?\\${params}\\`;\n      });\n\n    // Set initial dropdown label if no year selected\n    if (yearSelected && !currentYear) {\n      yearSelected.textContent = "Previous Years";\n    }\n\n    // Custom Sort Dropdown\n    if (sortDropdown) {\n      // Set current sort text\n      const activeSortItem = sortDropdown.querySelector(\n        \\`[data-value="\\${currentSort}"]\\`,\n      );\n      if (activeSortItem) {\n        sortSelected.textContent = activeSortItem.textContent;\n        activeSortItem.classList.add(\n          "bg-orange-500",\n          "text-white",\n          "rounded-md",\n        );\n      } else {\n        sortSelected.textContent = "Recommended";\n      }\n\n      // Toggle dropdown open/close\n      sortTrigger.addEventListener("click", (e) => {\n        e.stopPropagation();\n        sortList.classList.toggle("hidden");\n        sortArrow.classList.toggle("rotate-180");\n      });\n\n      // Select sort option\n      sortList.querySelectorAll("li").forEach((item) => {\n        item.addEventListener("click", (e) => {\n          e.stopPropagation();\n\n          // Remove highlight from all\n          sortList\n            .querySelectorAll("li")\n            .forEach((li) =>\n              li.classList.remove("bg-orange-500", "text-white", "rounded-md"),\n            );\n\n          // Highlight the selected one\n          item.classList.add("bg-orange-500", "text-white", "rounded-md");\n\n          const selectedValue = item.dataset.value;\n          sortSelected.textContent = item.textContent;\n          sortList.classList.add("hidden");\n          sortArrow.classList.remove("rotate-180");\n\n          // Update URL\n          params.set("sort", selectedValue);\n          window.location.href = \\`\\${window.location.pathname}?\\${params}\\`;\n        });\n      });\n    }\n\n    // Close dropdowns when clicking outside\n    document.addEventListener("click", (e) => {\n      document.querySelectorAll("details").forEach((el) => {\n        if (!el.contains(e.target)) el.removeAttribute("open");\n      });\n      if (sortList && !sortDropdown.contains(e.target)) {\n        sortList.classList.add("hidden");\n        sortArrow.classList.remove("rotate-180");\n      }\n    });\n  });\n<\/script>'])), maybeRenderHead(), visibleYears.map((year) => renderTemplate`<button class="font-secondary bg-n-50 text-n-500 cursor-pointer rounded-xl px-6 py-3 text-sm leading-[21px] font-medium transition-colors duration-200 hover:bg-orange-50 md:rounded-2xl md:px-7 md:py-3.5 md:text-xl md:leading-[30px] xl:rounded-4xl xl:px-14 xl:py-4 xl:text-3xl xl:leading-[54px]"${addAttribute(year, "data-year")}> ${year} </button>`), dropdownYears.length > 0 && renderTemplate`<details class="group relative" id="year-dropdown"> <summary class="border-n-500 text-n-500 hover:bg-n-50 flex cursor-pointer list-none items-center gap-3 rounded-full border px-3.5 py-3 font-medium select-none md:gap-5 md:px-6 lg:px-8 lg:py-4"> <span id="year-selected" class="font-secondary text-n-500 text-sm font-medium md:text-lg lg:leading-[27px]">
Previous Years
</span>  ${renderComponent($$result, "Icon", $$Icon, { "name": "down-arrow", "class": "size-4 transition-transform group-open:rotate-180" })} </summary>  <ul class="border-n-500 bg-n-50 absolute top-full left-0 z-10 mt-2 w-full overflow-hidden rounded-xl border shadow-lg transition duration-300 ease-in-out" id="dropdown-year-list"> ${dropdownYears.map((year) => renderTemplate`<li> <button class="font-secondary text-n-500 block w-full cursor-pointer px-6 py-3 text-left text-base font-medium hover:bg-orange-50"${addAttribute(year, "data-year")}> ${year} </button> </li>`)} </ul> </details>`, showSearch && renderTemplate`<div class="relative min-w-[250px] flex-1"> ${renderComponent($$result, "Icon", $$Icon, { "name": "search", "class": "text-n-600 absolute top-1/2 left-0 size-4 -translate-y-1/2 md:size-5" })}  <input id="search-input" type="text" name="search" placeholder="Search..." class="border-n-600 text-n-600 font-secondary placeholder-n-600 w-full border-b py-2 pr-3 pl-7 text-base font-medium transition-colors focus:border-[#C3543A] focus:outline-none md:py-3 md:pl-9 md:text-lg lg:py-4 lg:text-2xl"> </div>`, showSort && sortOptions.length > 0 && renderTemplate`<div class="border-n-500 text-n-500 font-secondary relative flex items-center gap-2 rounded-lg border px-4 py-2 text-lg md:px-4 md:py-3 lg:px-6 lg:py-4" id="sort-dropdown"> <label class="font-normal whitespace-nowrap">Sort By:</label>  <div id="sort-trigger" class="flex cursor-pointer items-center gap-3 select-none"> <span id="sort-selected" class="font-semibold capitalize">
Recommended
</span>  ${renderComponent($$result, "Icon", $$Icon, { "name": "down-arrow", "class": "text-n-600 h-4 w-4 transition-transform duration-200", "id": "sort-arrow" })} </div>  <ul id="sort-options" class="border-n-500 bg-n-50 absolute top-full left-0 z-10 mt-2 hidden w-full overflow-hidden rounded-xl border shadow-lg"> ${sortOptions.map(({ label, value }) => (
    // Text item
    renderTemplate`<li class="text-n-600 cursor-pointer px-4 py-3 text-base hover:bg-orange-50"${addAttribute(value, "data-value")}> ${value} </li>`
  ))} </ul> </div>`);
}, "/Users/abhayamin/Documents/pixolo/sis-brand-website/src/components/FilterBar.astro", void 0);

export { $$FilterBar as $ };
